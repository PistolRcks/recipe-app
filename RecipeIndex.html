<!doctype html>
<html>
	<head>
		<title>Recipe App Elijah Southman</title>
	</head>
	<body>
        Main Menu

        <br>

        <!-- redirect buttons that call modal before redirecting -->
        <form id="createMealForm" action="CreateMeal.php">
            <button onclick="mainMenuModal('createMealForm')" type="button">Create a Meal</button>
        </form>
        <form id="createRecipeForm" action="CreateRecipe.php">
            <button onclick="mainMenuModal('createRecipeForm')" type="button">Create a Recipe</button>
        </form>
        <form id="createIngredientForm" action="CreateIngredient.php">
            <button onclick="mainMenuModal('createIngredientForm')" type="button">Create an Ingredient</button>
        </form>
        <form id="searchRecipeForm" action="SearchRecipe.php">
            <button onclick="mainMenuModal('searchRecipeForm')" type="button">Search for Recipes</button>
        </form>
        <form id="searchMealForm" action="SearchMeal.php">
            <button onclick="mainMenuModal('searchMealForm')" type="button">Search for Meals</button>
        </form>

        <!-- modal that pops up on screen to confirm or cancel action -->
        <script>
            function mainMenuModal(formId)
            {
                if(confirm("Are you sure you want to leave this page?"))
                    document.getElementById(formId).submit();
            }
        </script>

        <br>

        <!-- serving size dropdown and display -->
        <label for="servingSize">Serving Size:</label>
        <select name="servingSize" id="servingSize">
            <option value="1">Normal</option>
            <option value="0.5">Half</option>
            <option value="2">Double</option>
        </select>
        <label id = "servingSizeDisplay">
            Serving Size: Normal, 1
        </label>

        <!-- update servingSize modifier and text and update page information upon changing serving size dropdown -->
        <script>
            var e = document.getElementById("servingSize");
            var servingSize = e.value;
            var servingSizeText = e.options[e.selectedIndex].text;
            function onChange()
            {
                servingSize = e.value;
                servingSizeText = e.options[e.selectedIndex].text;
                console.log(servingSize, servingSizeText);
                document.getElementById('servingSizeDisplay').innerHTML = "Serving Size: " + servingSizeText + ", " + servingSize;
            }
            e.onchange = onChange;
            onChange();
        </script>
	</body>
</html>